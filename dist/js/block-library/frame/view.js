console.log("Hello World! You got frames block!"),window.addEventListener("DOMContentLoaded",(()=>{const e=(e,t,n=!0)=>{const s=new CustomEvent("frame-change-step",{bubbles:!0,detail:{getIndex:()=>e,scroll:n}});t.dispatchEvent(s)};document.querySelectorAll(".wp-block-frames-container").forEach((t=>(t=>{const n=t.querySelector(".wp-block-frames-navigation").querySelectorAll(".wp-block-frames-navigation-dot"),s=t.querySelector(".wp-block-frames-frame"),r=[...t.querySelectorAll(".wp-block-frames-frame > .wp-block-group"),...t.querySelectorAll(".wp-block-frames-frame > .wp-block-image")],o=()=>t.querySelector(".wp-block-frames-navigation-dot.active"),l=(t=null,n=!0)=>{const s=o();if(s){const t="index"in s.dataset?parseInt(s.dataset.index):0;e(t,s,n)}},a=(e=null)=>{const{top:t,y:n,height:r}=s.getBoundingClientRect(),{innerHeight:o}=window;t>0&&n+r<o&&(l(e),document.removeEventListener("scrollend",a))},c=e=>{r.forEach((e=>e.removeAttribute("aria-current"))),n.forEach((e=>e.classList.remove("active"))),n[e].classList.add("active"),r[e].setAttribute("aria-current","step")};t.addEventListener("frame-change-step",(e=>{const{getIndex:t,scroll:n}=e.detail,o=t();c(o),n&&(s.classList.add("scrolling"),r[o].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))})),s.addEventListener("scrollend",(e=>{const t=[...r].findIndex((e=>{const{left:t}=e.getBoundingClientRect();return t>0&&t<innerWidth})),n=o().dataset.index||-1;s.classList.contains("user-scrolling")||t===n||c(t),s.classList.remove("user-scrolling"),s.classList.remove("scrolling"),document.addEventListener("scrollend",a)}));const i=e=>{s.classList.add("user-scrolling"),r.forEach((e=>e.removeAttribute("aria-current"))),n.forEach((e=>e.classList.remove("active"))),n[e].classList.add("active"),r[e].setAttribute("aria-current","step")};if(!n.length)return;n.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault();const t="index"in e.target.dataset?parseInt(e.target.dataset.index):0;i(t),document.addEventListener("scrollend",a),l()}))})),s.addEventListener("scroll",(e=>{const t=e.target.scrollLeft%e.target.offsetWidth==0?0:150;clearTimeout(e.target.scrollTimeout),e.target.scrollTimeout=setTimeout((function(){s.classList.remove("user-scrolling"),s.classList.remove("scrolling")}),t)})),r.forEach(((e,t)=>e.setAttribute("data-index",t.toString()))),e(0,r[0],!1);let d=null;if("autoplay"in s.dataset){const e=()=>{d||(d=setInterval((function(){s.classList.add("user-scrolling");const e=o();if(e){const t=("index"in e.dataset?parseInt(e.dataset.index):0)+1,n=r.length>t?t:0;i(n),document.addEventListener("scrollend",a),l()}}),2e3))},n=()=>{clearInterval(d),d=null};new IntersectionObserver((t=>{const s=t.length?t[0]:null;s&&(s.isIntersecting?e():n())}),{}).observe(t)}})(t)))}));