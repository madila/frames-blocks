console.log("Hello World! You got frames block!"),window.addEventListener("DOMContentLoaded",(()=>{const e=(e,t,n=!0)=>{const s=new CustomEvent("frame-change-step",{bubbles:!0,detail:{getIndex:()=>e,scroll:n}});t.dispatchEvent(s)};document.querySelectorAll(".wp-block-frames-container").forEach((t=>(t=>{const n=t.querySelector(".wp-block-frames-navigation").querySelectorAll(".wp-block-frames-navigation-dot"),s=t.querySelector(".wp-block-frames-frame"),r=t.querySelectorAll(".wp-block-frames-frame > .wp-block-group"),o=t.querySelectorAll(".wp-block-frames-frame > .wp-block-image");let l=null;const a=()=>{clearInterval(l),l=null},c=[...r,...o],i=()=>t.querySelector(".wp-block-frames-navigation-dot.active"),d=(t=null,n=!0)=>{const s=i();if(s){const t="index"in s.dataset?parseInt(s.dataset.index):0;e(t,s,n)}},u=(e=null)=>{const{top:t,y:n,height:r}=s.getBoundingClientRect(),{innerHeight:o}=window;t>0&&n+r<o&&(d(e),document.removeEventListener("scrollend",u))},g=e=>{c.forEach((e=>e.removeAttribute("aria-current"))),n.forEach((e=>e.classList.remove("active"))),n[e].classList.add("active"),c[e].setAttribute("aria-current","step")};t.addEventListener("frame-change-step",(e=>{const{getIndex:t,scroll:n}=e.detail,r=t();g(r),n&&(s.classList.add("scrolling"),c[r].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))})),s.addEventListener("scrollend",(e=>{const t=[...c].findIndex((e=>{const{left:t}=e.getBoundingClientRect();return t>0&&t<innerWidth})),n=i().dataset.index||-1;s.classList.contains("user-scrolling")||t===n||g(t),s.classList.remove("user-scrolling"),s.classList.remove("scrolling"),document.addEventListener("scrollend",u)}));const m=e=>{s.classList.add("user-scrolling"),c.forEach((e=>e.removeAttribute("aria-current"))),n.forEach((e=>e.classList.remove("active"))),n[e].classList.add("active"),c[e].setAttribute("aria-current","step")};if(n.length&&(n.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),a();const t="index"in e.target.dataset?parseInt(e.target.dataset.index):0;m(t),document.addEventListener("scrollend",u),d()}))})),s.addEventListener("scroll",(e=>{a();const t=e.target.scrollLeft%e.target.offsetWidth==0?0:150;clearTimeout(e.target.scrollTimeout),e.target.scrollTimeout=setTimeout((function(){s.classList.remove("user-scrolling"),s.classList.remove("scrolling")}),t)})),c.forEach(((e,t)=>e.setAttribute("data-index",t.toString()))),e(0,c[0],!1),"autoplay"in s.dataset)){const e=()=>{l||(l=setInterval((function(){s.classList.add("user-scrolling");const e=i();if(e){const t=("index"in e.dataset?parseInt(e.dataset.index):0)+1,n=c.length>t?t:0;m(n),document.addEventListener("scrollend",u),d()}}),2e3))};new IntersectionObserver((t=>{const n=t.length?t[0]:null;n&&(n.isIntersecting?e():a())}),{}).observe(t)}})(t)))}));